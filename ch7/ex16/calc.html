<style>
    * {
        margin: 0;
        padding: 0;
    }
    button {
        width: 50px;
        height: 35px;
        font-size: 18px;
        color: white;
        background: gray;
    }
    .func {
        background: coral;
    }
    .op {
        background: coral;
    }
    #enter {
        background: rosybrown
    }
    #expr {
        width: 210px;
        height: 35px;
    }
</style>

<form action="" method="get">
    <input type="text" name="expr" id="expr" value="{{ . }}">
    <table id="calc-body">
        <tbody>
            <tr>
                <td><button class="func" type="button">pow</button></td>
                <td><button class="func" type="button">sqrt</button></td>
                <td><button class="func" type="button">sin</button></td>
                <td><button class="op" type="button">/</button></td>
            </tr>
            <tr>
                <td><button class="num" type="button">7</button></td>
                <td><button class="num" type="button">8</button></td>
                <td><button class="num" type="button">9</button></td>
                <td><button class="op" type="button">*</button></td>
            </tr>
            <tr>
                <td><button class="num" type="button">4</button></td>
                <td><button class="num" type="button">5</button></td>
                <td><button class="num" type="button">6</button></td>
                <td><button class="op" type="button">-</button></td>
            </tr>
            <tr>
                <td><button class="num" type="button">1</button></td>
                <td><button class="num" type="button">2</button></td>
                <td><button class="num" type="button">3</button></td>
                <td><button class="op" type="button">+</button></td>
            </tr>
            <tr>
                <td><button class="num" type="button">0</button></td>
                <td><button class="num" type="button">.</button></td>
                <td><button id="cancel" type="button">C</button></td>
                <td><button id="enter" type="submit">=</button></td>
            </tr>
        </tbody>
    </table>
</form>

<script>
    const calcBody = document.querySelector('#calc-body');
    calcBody.addEventListener('click', (event) => {
        const expr = document.querySelector('#expr');
        const target = event.target;
        if (target.classList.contains('op') || target.classList.contains('num')) {
            expr.value += target.innerText;
        } else if (target.classList.contains('func')) {
            expr.value = `${target.innerText}(${expr.value}`;
            if (target.innerText == 'pow') expr.value += ', 1';
            expr.value += ')';
        } else if (target.id == 'cancel' && expr.value.length > 0) {
            expr.value = expr.value.slice(0, expr.value.length - 1);
        }
    });
</script>
